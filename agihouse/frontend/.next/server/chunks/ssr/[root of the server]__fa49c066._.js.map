{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-other/WhatsAppForMac.png.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 608, height: 404, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAsElEQVR42gGlAFr/ADlrSz0rZUq6O15IwThaRcE9X0nBQmlWwTFvWbs4aUo/ADNuT1NLf2b3iIB2/4FyZP+Kemr/rqih/2WfjvgybU5XADNuT1NWh3L3g25n/4h/ef+gmpb/pZSN/1mKdPgybU5XADNtTlNFemn3f3Bj/4CYev+IpIv/k42E/12UgfgybE1XAEJkTFQ5XE+zQ1xPuTaqZeQ2rWfkQFpNuThcTbRBY0xXqrRN0/qmKaMAAAAASUVORK5CYII=\", blurWidth: 8, blurHeight: 5 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,gJAAA,CAAA,UAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,aAAa;IAAkV,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/src/components/whatsapp-empty-state.tsx"],"sourcesContent":["import Image from 'next/image'\nimport WhatsappForMac from '../../public/whatsapp-ripoff-other/WhatsAppForMac.png'\n\nexport const WhatsAppEmptyState = () => {\n  return (\n    <div className=\"bg-whatsapp-empty-state-background text-whatsapp-empty-state-text flex h-full w-full items-center justify-center\">\n      <div className=\"flex flex-col items-center justify-center gap-8\">\n        <Image\n          src={WhatsappForMac}\n          alt=\"Whatsapp For Mac\"\n          width={320}\n          height={320}\n        />\n        <div className=\"flex flex-col gap-4 text-center\">\n          <div className=\"text-4xl font-extralight\">\n            Download WhatsApp for Mac\n          </div>\n          <p className=\"text-sm\">\n            Make calls and get a faster experience when you download the Mac\n            app.\n          </p>\n        </div>\n        <button className=\"bg-whatsapp-color-button-background rounded-full px-6 py-2.5 text-sm font-semibold text-white\">\n          Get from App Store\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEO,MAAM,qBAAqB;IAChC,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,6HAAA,CAAA,UAAK;oBACJ,KAAK,8UAAA,CAAA,UAAc;oBACnB,KAAI;oBACJ,OAAO;oBACP,QAAQ;;;;;;8BAEV,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCAA2B;;;;;;sCAG1C,8OAAC;4BAAE,WAAU;sCAAU;;;;;;;;;;;;8BAKzB,8OAAC;oBAAO,WAAU;8BAAgG;;;;;;;;;;;;;;;;;AAM1H","debugId":null}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/src/utils/variables.ts"],"sourcesContent":["export const API_URL = 'https://agihouse.onrender.com'\n"],"names":[],"mappings":";;;AAAO,MAAM,UAAU","debugId":null}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/src/data-fetching/mark-messages-read.ts"],"sourcesContent":["import { API_URL } from '../utils/variables'\n\n/**\n * Interface for the request payload to mark messages as read\n */\nexport interface MarkMessagesReadRequest {\n  conversation_id: string\n}\n\n/**\n * Interface for the response from marking messages as read\n */\nexport interface MarkMessagesReadResponse {\n  status: string\n  message: string\n}\n\n/**\n * Marks all messages in a conversation as read\n * @param conversationId The ID of the conversation to mark as read\n * @returns A promise that resolves with the response when the messages are marked as read\n */\nexport async function markMessagesAsRead(\n  conversationId: string,\n): Promise<MarkMessagesReadResponse> {\n  try {\n    const response = await fetch(`${API_URL}/whatsapp/mark-read`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        conversation_id: conversationId,\n      } as MarkMessagesReadRequest),\n    })\n\n    if (!response.ok) {\n      throw new Error(`Failed to mark messages as read: ${response.statusText}`)\n    }\n\n    return (await response.json()) as MarkMessagesReadResponse\n  } catch (error) {\n    console.error('Error marking messages as read:', error)\n    throw error\n  }\n}\n"],"names":[],"mappings":";;;AAAA;;AAsBO,eAAe,mBACpB,cAAsB;IAEtB,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,yHAAA,CAAA,UAAO,CAAC,mBAAmB,CAAC,EAAE;YAC5D,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;gBACnB,iBAAiB;YACnB;QACF;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM,CAAC,iCAAiC,EAAE,SAAS,UAAU,EAAE;QAC3E;QAEA,OAAQ,MAAM,SAAS,IAAI;IAC7B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mCAAmC;QACjD,MAAM;IACR;AACF","debugId":null}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/src/utils/cn.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\n/**\n * Combines multiple class values into a single className string,\n * resolving Tailwind CSS conflicts using tailwind-merge.\n *\n * @param inputs - Class values to be combined (strings, objects, arrays, etc.)\n * @returns A merged className string\n */\nexport function cn(...inputs: ClassValue[]): string {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AASO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/src/utils/get-profile-picture.ts"],"sourcesContent":["/**\n * Generates a deterministic profile picture URL based on a hash of the username.\n * Uses UI Avatars service to create consistent avatar images.\n *\n * @param username - The username to generate an avatar for\n * @returns A URL string for the avatar image\n */\nexport function getProfilePicture(username: string): string {\n  if (!username) return ''\n\n  // Create a simple hash from the username\n  const hash = username\n    .split('')\n    .reduce((acc, char) => acc + char.charCodeAt(0), 0)\n\n  // Define a set of more toned down, professional colors inspired by Material UI and Fluent UI\n  const colors = [\n    '#0078D4', // Microsoft Blue\n    '#5C2E91', // Microsoft Purple\n    '#107C10', // Microsoft Green\n    '#D83B01', // Microsoft Orange\n    '#4A5568', // Slate Gray\n    '#2B6CB0', // Blue\n    '#805AD5', // Purple\n    '#38A169', // Green\n    '#DD6B20', // Orange\n    '#3182CE', // Light Blue\n    '#00897B', // Teal\n    '#E53E3E', // Red\n    '#6B46C1', // Indigo\n    '#718096', // Cool Gray\n    '#2C7A7B', // Cyan\n  ]\n\n  // Use the hash to select a color\n  const colorIndex = hash % colors.length\n  const backgroundColor = colors[colorIndex]\n\n  // Get initials (up to 2 characters)\n  const initials = username\n    .split(' ')\n    .map((part) => part.charAt(0))\n    .join('')\n    .substring(0, 2)\n    .toUpperCase()\n\n  // Use UI Avatars service to generate the avatar\n  return `https://ui-avatars.com/api/?name=${encodeURIComponent(initials)}&background=${backgroundColor.replace('#', '')}&color=fff&size=256`\n}\n"],"names":[],"mappings":"AAAA;;;;;;CAMC;;;AACM,SAAS,kBAAkB,QAAgB;IAChD,IAAI,CAAC,UAAU,OAAO;IAEtB,yCAAyC;IACzC,MAAM,OAAO,SACV,KAAK,CAAC,IACN,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,UAAU,CAAC,IAAI;IAEnD,6FAA6F;IAC7F,MAAM,SAAS;QACb;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,iCAAiC;IACjC,MAAM,aAAa,OAAO,OAAO,MAAM;IACvC,MAAM,kBAAkB,MAAM,CAAC,WAAW;IAE1C,oCAAoC;IACpC,MAAM,WAAW,SACd,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,OAAS,KAAK,MAAM,CAAC,IAC1B,IAAI,CAAC,IACL,SAAS,CAAC,GAAG,GACb,WAAW;IAEd,gDAAgD;IAChD,OAAO,CAAC,iCAAiC,EAAE,mBAAmB,UAAU,YAAY,EAAE,gBAAgB,OAAO,CAAC,KAAK,IAAI,mBAAmB,CAAC;AAC7I","debugId":null}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/UserIcon.png.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 96, height: 96, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABAElEQVR42g3NQUvCcABA8X2dvkqHrnXpEAVmdImgsSKJJNSgMNCcNRmTyF0y8BCSBSJFSDqQ1YiggiIZFVmd2ub+zx0f/OBJnif4/RO8uwL7waN5E2DWBDsHAiUtkD4+BS+vgnb3m3hcYV05pHrmUzIFmf0IOI+CTi+kcfmFupSmuKihVzxy5QgUQ6RWG+pNQenkHyXxzOyExerGD1uFIcl8gHRaFxxVo8i6xBb6jI/1mJl+YzM/ZFf3kTQzJG/4GNs2em6AuvxEOmZROPZpXHlI5y2f2oVPquAhJwfIK33Kmsv1bYBlRwujckci4xCT75mct5ia6yKvdUhlHfZUhxFChsidOTNMIQAAAABJRU5ErkJggg==\", blurWidth: 8, blurHeight: 8 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,2GAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAA8b,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-icons/MetaAIIcon.png.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 40, height: 40, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABE0lEQVR42gEIAff+AEdwTgI5eoU6F3rethxq9/F4a/3vqHjSsnZ5dzdJcE4BADl7hToXfuXVCmfe2R1jtpE/Xb2QfF3o17hv1NN1eHc3AB6F37cLa+HZM29+M0ZwTwJHcE4BUnB+MYJi6Necbs+yABaU+vEbbrmSRnBPAkdwTABHcEwAR3BOAUhpv49pX/3vABu+++4hgL2SRnBPAkdwTABHcEwARnBPAiFvwJEZXfXwAC7L0a8ftuXZO4aBM0ZxTwJGcVACOHeFNA1v5tkRata1AEiVdTQz183QI8fl2C6cwpMmgcKTDnHo2Q9r3NQ2dII5AEdxTQFJk3IzM7vGrCCo8u4OgfbxE3PYtTZ1gjlHcE4C8wF11+v7OZYAAAAASUVORK5CYII=\", blurWidth: 8, blurHeight: 8 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,4IAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAsd,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-icons/WhatsappChannelsOutline.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 24, height: 24, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,yJAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 294, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-icons/WhatsappChatFilled.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 24, height: 24, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,oJAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 318, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-icons/WhatsappChevronRightOutline.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 30, height: 30, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,6JAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 342, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-icons/WhatsappCommunitiesOutline.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 24, height: 24, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,4JAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-icons/WhatsappEllipsisFilled.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 24, height: 24, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,wJAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 390, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-icons/WhatsappNewChatOutline.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 24, height: 24, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,wJAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-icons/WhatsappSearchOutline.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 24, height: 24, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,uJAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 438, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-icons/WhatsappSettingsOutline.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 24, height: 24, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,yJAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 462, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-icons/WhatsappStatusOutline.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 24, height: 24, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,uJAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 486, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-icons/WhatsappVideoFilled.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 24, height: 24, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,qJAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 510, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-other/ChatTailLeft.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 8, height: 13, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,8IAAA,CAAA,UAAG;IAAE,OAAO;IAAG,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 534, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-other/ChatTailRight.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 8, height: 13, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,+IAAA,CAAA,UAAG;IAAE,OAAO;IAAG,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 553, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/src/data-fetching/send-message.ts"],"sourcesContent":["import { API_URL } from '../utils/variables'\n\n/**\n * Interface for the request payload to send a message\n */\nexport interface SendMessageRequest {\n  conversation_id: string\n  message: string\n}\n\n/**\n * Sends a message to a specific conversation\n * @param conversationId The ID of the conversation to send the message to\n * @param message The message content to send\n * @returns A promise that resolves when the message is sent\n */\nexport async function sendMessage(\n  conversationId: string,\n  message: string,\n): Promise<void> {\n  try {\n    const response = await fetch(`${API_URL}/whatsapp/write`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        conversation_id: conversationId,\n        message,\n      } as SendMessageRequest),\n    })\n\n    if (!response.ok) {\n      throw new Error(`Failed to send message: ${response.statusText}`)\n    }\n  } catch (error) {\n    console.error('Error sending message:', error)\n    throw error\n  }\n}\n"],"names":[],"mappings":";;;AAAA;;AAgBO,eAAe,YACpB,cAAsB,EACtB,OAAe;IAEf,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,yHAAA,CAAA,UAAO,CAAC,eAAe,CAAC,EAAE;YACxD,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;gBACnB,iBAAiB;gBACjB;YACF;QACF;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM,CAAC,wBAAwB,EAAE,SAAS,UAAU,EAAE;QAClE;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,MAAM;IACR;AACF","debugId":null}},
    {"offset": {"line": 589, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-icons/WhatsappMicFilled.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 24, height: 24, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,mJAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 613, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-icons/WhatsappPlusOutline.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 24, height: 24, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,qJAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 637, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-icons/WhatsappSendFilled.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 24, height: 24, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,oJAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 661, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-icons/WhatsappStickerOutline.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 24, height: 24, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,wJAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 680, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/src/components/composer.tsx"],"sourcesContent":["import { sendMessage } from '@/data-fetching/send-message'\nimport Image from 'next/image'\nimport { useEffect, useState } from 'react'\nimport MicIcon from '../../public/whatsapp-ripoff-icons/WhatsappMicFilled.svg'\nimport PlusIcon from '../../public/whatsapp-ripoff-icons/WhatsappPlusOutline.svg'\nimport SendIcon from '../../public/whatsapp-ripoff-icons/WhatsappSendFilled.svg'\nimport StickerIcon from '../../public/whatsapp-ripoff-icons/WhatsappStickerOutline.svg'\n\ninterface ComposerProps {\n  conversationId: string | null\n  composerDisplayValue: string\n  currentTaskConversationId: string | undefined\n}\n\nexport default function Composer({\n  conversationId,\n  composerDisplayValue,\n  currentTaskConversationId,\n}: ComposerProps) {\n  const [displayText, setDisplayText] = useState('')\n  const [isSending, setIsSending] = useState(false)\n\n  useEffect(() => {\n    // Only animate when composerDisplayValue is not empty\n    if (!composerDisplayValue) {\n      setDisplayText('')\n      return\n    }\n\n    // Start with empty text\n    setDisplayText('')\n\n    const totalDuration = 1500 // 1.5 seconds\n    const tickRate = 50 // Update every 50ms\n    const totalTicks = totalDuration / tickRate\n    const charsPerTick = Math.max(\n      1,\n      Math.ceil(composerDisplayValue.length / totalTicks),\n    )\n\n    let currentPosition = 0\n\n    const typingInterval = setInterval(() => {\n      currentPosition = Math.min(\n        currentPosition + charsPerTick,\n        composerDisplayValue.length,\n      )\n      setDisplayText(composerDisplayValue.substring(0, currentPosition))\n\n      if (currentPosition >= composerDisplayValue.length) {\n        clearInterval(typingInterval)\n      }\n    }, tickRate)\n\n    return () => clearInterval(typingInterval)\n  }, [composerDisplayValue])\n\n  const handleSendMessage = async () => {\n    if (!displayText.trim() || !conversationId || isSending) {\n      return\n    }\n\n    try {\n      setIsSending(true)\n      await sendMessage(conversationId, displayText)\n      setDisplayText('') // Reset input after successful send\n    } catch (error) {\n      console.error('Failed to send message:', error)\n      // You could add a toast notification here\n    } finally {\n      setIsSending(false)\n    }\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault()\n      handleSendMessage()\n    }\n  }\n\n  // Determine if typing animation is in progress\n  const isTyping =\n    composerDisplayValue !== '' && displayText !== composerDisplayValue\n\n  return (\n    <div className=\"relative flex items-center gap-2 bg-[#f0f2f5] p-3 px-6\">\n      <Image src={PlusIcon} alt=\"Plus Icon\" className=\"h-8 w-8 text-gray-500\" />\n      <div className=\"relative flex flex-grow items-center rounded-lg bg-white px-2\">\n        <Image\n          src={StickerIcon}\n          alt=\"Sticker Icon\"\n          className=\"h-6 w-6 text-gray-500\"\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Type a message\"\n          className=\"flex-1 rounded-lg bg-white p-2 outline-none\"\n          value={displayText}\n          onChange={(e) => setDisplayText(e.target.value)}\n          onKeyDown={handleKeyDown}\n          disabled={!conversationId || isSending || isTyping}\n        />\n      </div>\n      <div className=\"flex w-9 items-center justify-center\">\n        {displayText.trim() ? (\n          <button\n            onClick={handleSendMessage}\n            disabled={!conversationId || isSending || isTyping}\n            className=\"cursor-pointer\"\n          >\n            <Image\n              src={SendIcon}\n              alt=\"Send Icon\"\n              className=\"h-6 w-6 text-white\"\n            />\n          </button>\n        ) : (\n          <Image\n            src={MicIcon}\n            alt=\"Mic Icon\"\n            className=\"h-6 w-6 text-gray-500\"\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAQe,SAAS,SAAS,EAC/B,cAAc,EACd,oBAAoB,EACpB,yBAAyB,EACX;IACd,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,sDAAsD;QACtD,IAAI,CAAC,sBAAsB;YACzB,eAAe;YACf;QACF;QAEA,wBAAwB;QACxB,eAAe;QAEf,MAAM,gBAAgB,KAAK,cAAc;;QACzC,MAAM,WAAW,GAAG,oBAAoB;;QACxC,MAAM,aAAa,gBAAgB;QACnC,MAAM,eAAe,KAAK,GAAG,CAC3B,GACA,KAAK,IAAI,CAAC,qBAAqB,MAAM,GAAG;QAG1C,IAAI,kBAAkB;QAEtB,MAAM,iBAAiB,YAAY;YACjC,kBAAkB,KAAK,GAAG,CACxB,kBAAkB,cAClB,qBAAqB,MAAM;YAE7B,eAAe,qBAAqB,SAAS,CAAC,GAAG;YAEjD,IAAI,mBAAmB,qBAAqB,MAAM,EAAE;gBAClD,cAAc;YAChB;QACF,GAAG;QAEH,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;KAAqB;IAEzB,MAAM,oBAAoB;QACxB,IAAI,CAAC,YAAY,IAAI,MAAM,CAAC,kBAAkB,WAAW;YACvD;QACF;QAEA,IAAI;YACF,aAAa;YACb,MAAM,CAAA,GAAA,0IAAA,CAAA,cAAW,AAAD,EAAE,gBAAgB;YAClC,eAAe,IAAI,oCAAoC;;QACzD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,0CAA0C;QAC5C,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,gBAAgB,CAAC;QACrB,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YACpC,EAAE,cAAc;YAChB;QACF;IACF;IAEA,+CAA+C;IAC/C,MAAM,WACJ,yBAAyB,MAAM,gBAAgB;IAEjD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,6HAAA,CAAA,UAAK;gBAAC,KAAK,wVAAA,CAAA,UAAQ;gBAAE,KAAI;gBAAY,WAAU;;;;;;0BAChD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,6HAAA,CAAA,UAAK;wBACJ,KAAK,8VAAA,CAAA,UAAW;wBAChB,KAAI;wBACJ,WAAU;;;;;;kCAEZ,8OAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,WAAU;wBACV,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wBAC9C,WAAW;wBACX,UAAU,CAAC,kBAAkB,aAAa;;;;;;;;;;;;0BAG9C,8OAAC;gBAAI,WAAU;0BACZ,YAAY,IAAI,mBACf,8OAAC;oBACC,SAAS;oBACT,UAAU,CAAC,kBAAkB,aAAa;oBAC1C,WAAU;8BAEV,cAAA,8OAAC,6HAAA,CAAA,UAAK;wBACJ,KAAK,sVAAA,CAAA,UAAQ;wBACb,KAAI;wBACJ,WAAU;;;;;;;;;;yCAId,8OAAC,6HAAA,CAAA,UAAK;oBACJ,KAAK,oVAAA,CAAA,UAAO;oBACZ,KAAI;oBACJ,WAAU;;;;;;;;;;;;;;;;;AAMtB","debugId":null}},
    {"offset": {"line": 841, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/src/components/whatsapp-view.tsx"],"sourcesContent":["import Image from 'next/image'\nimport { useEffect, useState } from 'react'\n\n// Sidebar components\nimport { WhatsAppEmptyState } from '@/components/whatsapp-empty-state'\nimport {\n  AppState,\n  Conversation,\n  Message as MessageType,\n} from '@/data-fetching/fetch-json'\nimport { markMessagesAsRead } from '@/data-fetching/mark-messages-read'\nimport { cn } from '@/utils/cn'\nimport { getProfilePicture } from '@/utils/get-profile-picture'\nimport UserIcon from '../../public/UserIcon.png'\nimport MetaIcon from '../../public/whatsapp-ripoff-icons/MetaAIIcon.png'\nimport ChannelsIcon from '../../public/whatsapp-ripoff-icons/WhatsappChannelsOutline.svg'\nimport ChatIcon from '../../public/whatsapp-ripoff-icons/WhatsappChatFilled.svg'\nimport ChevronRightIcon from '../../public/whatsapp-ripoff-icons/WhatsappChevronRightOutline.svg'\nimport CommunitiesIcon from '../../public/whatsapp-ripoff-icons/WhatsappCommunitiesOutline.svg'\nimport EllipsisIcon from '../../public/whatsapp-ripoff-icons/WhatsappEllipsisFilled.svg'\nimport NewChatIcon from '../../public/whatsapp-ripoff-icons/WhatsappNewChatOutline.svg'\nimport SearchIcon from '../../public/whatsapp-ripoff-icons/WhatsappSearchOutline.svg'\nimport SettingsIcon from '../../public/whatsapp-ripoff-icons/WhatsappSettingsOutline.svg'\nimport StatusIcon from '../../public/whatsapp-ripoff-icons/WhatsappStatusOutline.svg'\nimport VideoIcon from '../../public/whatsapp-ripoff-icons/WhatsappVideoFilled.svg'\nimport ChatTailLeft from '../../public/whatsapp-ripoff-other/ChatTailLeft.svg'\nimport ChatTailRight from '../../public/whatsapp-ripoff-other/ChatTailRight.svg'\nimport Composer from './composer'\n\nconst SearchBar = () => {\n  return (\n    <div className=\"flex items-center rounded-lg bg-[#f0f2f5] p-2\">\n      <Image src={SearchIcon} alt=\"Search\" className=\"h-6 w-6 text-gray-500\" />\n      <input\n        type=\"text\"\n        placeholder=\"Search\"\n        className=\"ml-2 w-full border-none bg-transparent text-sm outline-none\"\n      />\n    </div>\n  )\n}\n\nconst ChatTabs = () => {\n  return (\n    <div className=\"text-15px flex gap-2\">\n      <button className=\"bg-tab-button-selected w-fit rounded-full px-3 py-2 font-medium leading-none text-[#00a884]\">\n        All\n      </button>\n      <button className=\"w-fit rounded-full bg-[#f0f2f5] px-3 py-1.5 font-medium leading-none text-gray-600 hover:bg-[#e9edef]\">\n        Unread\n      </button>\n      <button className=\"w-fit rounded-full bg-[#f0f2f5] px-3 py-1.5 font-medium leading-none text-gray-600 hover:bg-[#e9edef]\">\n        Favorites\n      </button>\n      <button className=\"w-fit rounded-full bg-[#f0f2f5] px-3 py-1.5 font-medium leading-none text-gray-600 hover:bg-[#e9edef]\">\n        Groups\n      </button>\n    </div>\n  )\n}\n\nconst ChatItem = ({\n  conversation,\n  isSelected,\n  onClick,\n}: {\n  conversation: Conversation\n  isSelected: boolean\n  onClick: () => void\n}) => {\n  // Get the last message for preview\n  const lastMessage =\n    conversation.messages.length > 0\n      ? conversation.messages[conversation.messages.length - 1]\n      : null\n\n  // Format the message preview\n  const messagePreview = lastMessage\n    ? `${conversation.user_name}: ${lastMessage.text_content}`\n    : 'No messages'\n\n  // Format the time\n  const formatTime = (dateString: string) => {\n    const date = new Date(dateString)\n    const now = new Date()\n    const isToday = date.toDateString() === now.toDateString()\n\n    if (isToday) {\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n    } else {\n      return date.toLocaleDateString([], { month: 'numeric', day: 'numeric' })\n    }\n  }\n\n  const time = lastMessage ? formatTime(lastMessage.created_at) : ''\n\n  // Get profile picture or generate one if not available\n  const profilePicture =\n    conversation.user_profile_picture ||\n    getProfilePicture(conversation.user_name)\n\n  return (\n    <div\n      className={cn(\n        'flex cursor-pointer items-center border-b border-[#f5f6f6] p-3 hover:bg-[#f5f6f6]',\n        isSelected ? 'bg-[#f0f2f5]' : '',\n      )}\n      onClick={onClick}\n    >\n      <div className=\"h-12 w-12 flex-shrink-0 rounded-full bg-gray-300\">\n        <img\n          src={profilePicture}\n          alt={conversation.user_name}\n          className=\"h-full w-full rounded-full object-cover\"\n        />\n      </div>\n      <div className=\"ml-3 flex-1\">\n        <div className=\"flex justify-between\">\n          <span className=\"font-medium\">{conversation.user_name}</span>\n          <span className=\"text-xs text-gray-500\">{time}</span>\n        </div>\n        <div className=\"mt-0.5 flex justify-between\">\n          <p className=\"line-clamp-1 break-all text-sm text-gray-500\">\n            {messagePreview}\n          </p>\n          {conversation.unread_message_count > 0 && (\n            <span className=\"flex h-5 w-5 shrink-0 items-center justify-center rounded-full bg-[#00a884] text-xs text-white\">\n              {conversation.unread_message_count}\n            </span>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// Chat components\nconst ChatHeader = ({\n  conversation,\n}: {\n  conversation: Conversation | null\n}) => {\n  if (!conversation) {\n    return (\n      <div className=\"relative flex items-center border-l border-[#d1d7db] bg-[#f0f2f5] p-3\"></div>\n    )\n  }\n\n  // Get profile picture or generate one if not available\n  const profilePicture =\n    conversation.user_profile_picture ||\n    getProfilePicture(conversation.user_name)\n\n  return (\n    <div className=\"border-b-whatsapp-sidebar-border relative flex items-center border-b  bg-[#f0f2f5] p-3\">\n      <div className=\"h-10 w-10 rounded-full bg-gray-300\">\n        <img\n          src={profilePicture}\n          alt={conversation.user_name}\n          className=\"h-full w-full rounded-full object-cover\"\n        />\n      </div>\n      <div className=\"ml-3 flex-1\">\n        <p className=\"font-medium\">{conversation.user_name}</p>\n        <p className=\"text-xs text-gray-500\">{conversation.conversation_id}</p>\n      </div>\n      <div className=\"flex items-center gap-6 pr-3\">\n        <div className=\"flex items-center gap-2 opacity-50\">\n          <Image src={VideoIcon} alt=\"Video\" width={26} height={26} />\n          <Image\n            src={ChevronRightIcon}\n            alt=\"Chevron Right\"\n            className=\"rotate-90\"\n            width={12}\n            height={12}\n          />\n        </div>\n        <Image src={SearchIcon} alt=\"Search\" width={30} height={30} />\n        <Image src={EllipsisIcon} alt=\"Ellipsis\" width={24} height={24} />\n      </div>\n    </div>\n  )\n}\n\nconst SidebarButtonWrapper = ({\n  children,\n  isSelected,\n}: {\n  children: React.ReactNode\n  isSelected: boolean\n}) => {\n  return (\n    <div\n      className={cn(\n        `flex h-10 w-10 items-center justify-center rounded-full`,\n        isSelected ? 'bg-[#0b141a]/10' : '',\n      )}\n    >\n      {children}\n    </div>\n  )\n}\n\nconst Message = ({\n  message,\n  isFirst,\n  userName,\n  userProfilePicture,\n}: {\n  message: MessageType\n  isFirst: boolean\n  userName: string\n  userProfilePicture: string\n}) => {\n  const sent = message.type === 'assistant'\n\n  // Format the time\n  const formatTime = (dateString: string) => {\n    const date = new Date(dateString)\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n  }\n\n  // Check if message is short (less than 35 characters)\n  const isShortMessage = message.text_content.length < 35\n  const renderProfilePic = !sent && isFirst\n  const renderEmptySpace = !sent && !isFirst\n\n  // Get profile picture or generate one if not available\n  const profilePicture = userProfilePicture || getProfilePicture(userName)\n\n  return (\n    <div\n      className={cn(`mb-1 flex gap-3`, sent ? 'justify-end' : 'justify-start')}\n    >\n      {renderProfilePic ? (\n        <div className=\"h-8 w-8 rounded-full bg-gray-300\">\n          <img\n            src={profilePicture}\n            alt={userName}\n            className=\"h-full w-full rounded-full object-cover\"\n          />\n        </div>\n      ) : renderEmptySpace ? (\n        <div className=\"w-8 rounded-full \" />\n      ) : null}\n      <div className=\"relative max-w-[65%] \">\n        <div className=\"absolute inset-0 translate-y-[1.5px] rounded-md bg-black/10 blur-[1px]\" />\n        {sent\n          ? isFirst && (\n              <Image\n                src={ChatTailRight}\n                alt=\"Chat Tail Right\"\n                height={10}\n                width={10}\n                className=\"absolute left-full top-0 \"\n              />\n            )\n          : isFirst && (\n              <Image\n                src={ChatTailLeft}\n                alt=\"Chat Tail Left\"\n                height={10}\n                width={10}\n                className=\"absolute right-full top-0\"\n              />\n            )}\n        <div\n          className={cn(\n            'relative rounded-md p-2',\n            sent ? 'rounded-tr-none bg-[#d9fdd3]' : 'rounded-tl-none bg-white',\n            !isFirst ? 'rounded-md' : '',\n          )}\n        >\n          {!sent && isFirst && (\n            <p className=\"mb-0.5 text-xs font-medium text-[#00a884]\">\n              {userName}\n            </p>\n          )}\n          <div className={isShortMessage ? 'flex items-end gap-2' : ''}>\n            <p\n              className={cn(\n                'break-words text-sm',\n                isShortMessage ? 'flex-grow' : '',\n              )}\n            >\n              {message.text_content}\n            </p>\n            <p\n              className={cn(\n                'translate-x-0.5 translate-y-1 text-xs  text-gray-500 ',\n                isShortMessage ? 'whitespace-nowrap' : 'mt-1 text-right',\n              )}\n            >\n              {formatTime(message.created_at)}\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default function WhatsAppView({ state }: { state: AppState }) {\n  const [selectedConversationId, setSelectedConversationId] = useState<\n    string | null\n  >(null)\n\n  const currentTaskConversationId = state.current_task?.conversation_id\n\n  useEffect(() => {\n    if (currentTaskConversationId) {\n      setSelectedConversationId(currentTaskConversationId)\n      markMessagesAsRead(currentTaskConversationId)\n    }\n  }, [currentTaskConversationId])\n\n  // Find the selected conversation\n  const selectedConversation =\n    state.conversations.find(\n      (conv) => conv.conversation_id === selectedConversationId,\n    ) || null\n\n  // Group messages by user and determine which ones are \"first\" in their group\n  const renderMessages = () => {\n    if (!selectedConversation) return null\n\n    // Sort messages by time\n    const sortedMessages = [...selectedConversation.messages].sort(\n      (a, b) =>\n        new Date(a.created_at).getTime() - new Date(b.created_at).getTime(),\n    )\n\n    // Determine which messages are first in their group\n    const messagesWithFirstFlag = sortedMessages.map((message, index) => {\n      const isFirst =\n        index === 0 || sortedMessages[index - 1].type !== message.type\n\n      return { ...message, isFirst }\n    })\n\n    return messagesWithFirstFlag.map((message, index) => (\n      <Message\n        key={message.message_id}\n        message={message}\n        isFirst={message.isFirst}\n        userName={selectedConversation.user_name}\n        userProfilePicture={selectedConversation.user_profile_picture}\n      />\n    ))\n  }\n\n  return (\n    <div className=\"bg-whatsapp-main-background animate-scale-in after:bg-whatsapp-main-background-stripe flex h-screen p-5 after:absolute after:inset-0 after:h-32 after:bg-repeat-y\">\n      <div className=\"relative z-10 mx-auto flex w-full max-w-[100rem] overflow-hidden bg-white shadow-lg\">\n        {/* Left sidebar with icons */}\n        <div className=\"border-whatsapp-sidebar-border-darker bg-whatsapp-sidebar-background w-17 border-r\">\n          <div className=\"border-whatsapp-sidebar-border flex h-full w-full flex-col items-center justify-between gap-6 border-r py-3\">\n            <div className=\"flex flex-col items-center gap-2.5\">\n              <SidebarButtonWrapper isSelected={true}>\n                <Image\n                  src={ChatIcon}\n                  alt=\"Chats\"\n                  width={24}\n                  height={24}\n                  className=\"shrink-0 cursor-pointer\"\n                />\n              </SidebarButtonWrapper>\n              <SidebarButtonWrapper isSelected={false}>\n                <Image\n                  src={StatusIcon}\n                  alt=\"Status\"\n                  width={24}\n                  height={24}\n                  className=\"shrink-0 cursor-pointer text-gray-600\"\n                />\n              </SidebarButtonWrapper>\n              <SidebarButtonWrapper isSelected={false}>\n                <Image\n                  src={ChannelsIcon}\n                  alt=\"Channels\"\n                  width={24}\n                  height={24}\n                  className=\"shrink-0 cursor-pointer text-gray-600\"\n                />\n              </SidebarButtonWrapper>\n              <SidebarButtonWrapper isSelected={false}>\n                <Image\n                  src={CommunitiesIcon}\n                  alt=\"Communities\"\n                  width={24}\n                  height={24}\n                  className=\"shrink-0 cursor-pointer text-gray-600\"\n                />\n              </SidebarButtonWrapper>\n              <SidebarButtonWrapper isSelected={false}>\n                <Image\n                  src={MetaIcon}\n                  alt=\"Meta\"\n                  width={20}\n                  height={20}\n                  className=\"shrink-0 cursor-pointer text-gray-600\"\n                />\n              </SidebarButtonWrapper>\n            </div>\n            <div className=\"flex flex-col items-center gap-2.5\">\n              <SidebarButtonWrapper isSelected={false}>\n                <Image\n                  src={SettingsIcon}\n                  alt=\"Settings\"\n                  width={24}\n                  height={24}\n                  className=\"mt-auto shrink-0 cursor-pointer text-gray-600\"\n                />\n              </SidebarButtonWrapper>\n              <SidebarButtonWrapper isSelected={false}>\n                <Image\n                  src={UserIcon}\n                  alt=\"User\"\n                  width={32}\n                  height={32}\n                  className=\"mt-auto cursor-pointer rounded-full text-gray-600\"\n                />\n              </SidebarButtonWrapper>\n            </div>\n          </div>\n        </div>\n\n        {/* Chat list */}\n        <div className=\"flex w-1/3 flex-col border-r border-[#d1d7db]\">\n          <div className=\"flex flex-col gap-2 p-4\">\n            <div className=\"flex items-center justify-between\">\n              <h1 className=\"text-22px font-extrabold\">Chats</h1>\n              <div className=\"flex items-center gap-4\">\n                <Image\n                  src={NewChatIcon}\n                  alt=\"New Chat\"\n                  width={24}\n                  height={24}\n                  className=\"shrink-0 cursor-pointer\"\n                />\n                <Image\n                  src={EllipsisIcon}\n                  alt=\"Ellipsis\"\n                  width={24}\n                  height={24}\n                  className=\"shrink-0 cursor-pointer\"\n                />\n              </div>\n            </div>\n            <div className=\"mt-4 flex flex-col gap-2\">\n              <SearchBar />\n              <ChatTabs />\n            </div>\n          </div>\n          <div className=\"flex-1 overflow-y-auto\">\n            {state.conversations.map((conversation) => (\n              <ChatItem\n                key={conversation.conversation_id}\n                conversation={conversation}\n                isSelected={\n                  selectedConversationId === conversation.conversation_id\n                }\n                onClick={() => {\n                  markMessagesAsRead(conversation.conversation_id)\n                  setSelectedConversationId(conversation.conversation_id)\n                }}\n              />\n            ))}\n          </div>\n        </div>\n        {/* Chat */}\n        {selectedConversationId ? (\n          <div className=\"bg-whatsapp-background relative flex w-2/3 flex-col\">\n            <div\n              className=\"absolute inset-0 z-0 opacity-50\"\n              style={{\n                backgroundImage:\n                  \"url('/whatsapp-ripoff-bg/whatsapp-bg-pattern.png')\",\n                backgroundRepeat: 'repeat',\n              }}\n            />\n            <ChatHeader conversation={selectedConversation} />\n            <div className=\"z-1 relative flex flex-1 flex-col-reverse overflow-y-auto p-4 px-8\">\n              <div className=\"flex flex-col\">\n                <div className=\"mb-4 self-center rounded-lg bg-white px-3 py-1 text-sm shadow-sm\">\n                  3/15/2025\n                </div>\n                {renderMessages()}\n              </div>\n            </div>\n            <Composer\n              conversationId={selectedConversationId}\n              composerDisplayValue={\n                selectedConversation?.composer_display_value ?? ''\n              }\n              currentTaskConversationId={currentTaskConversationId}\n            />\n          </div>\n        ) : (\n          <div className=\"w-2/3\">\n            <WhatsAppEmptyState />\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1730, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/src/data-fetching/fetch-json.ts"],"sourcesContent":["import { API_URL } from '../utils/variables'\n\nexport type AppState = {\n  conversations: Conversation[]\n  task_backlog: Task[]\n  current_task: Task | null\n}\n\nexport type Conversation = {\n  conversation_id: string\n  last_read_message_id: string | null\n  messages: Message[]\n  user_name: string\n  user_profile_picture: string\n  unread_message_count: number\n  composer_display_value: string\n}\n\nexport type Message = {\n  message_id: string\n  text_content: string\n  created_at: string\n  type: 'user' | 'assistant'\n}\n\nexport type Task = {\n  conversation_id: string\n  prompt: string\n}\n\n/**\n * Creates a WebSocket connection to the state endpoint\n * @returns A WebSocket connection that emits state updates\n */\n/**\n * Creates a WebSocket connection to the state endpoint with auto-reconnect\n * @returns A WebSocket connection that emits state updates\n */\nexport function createStateWebSocket(): WebSocket {\n  const wsUrl = API_URL.replace('http', 'ws') + '/state'\n  let reconnectAttempts = 0\n  const maxReconnectAttempts = 50\n  const baseDelay = 1000 // Start with 1 second delay\n  let socket: WebSocket = new WebSocket(wsUrl)\n\n  function connect() {\n    socket = new WebSocket(wsUrl)\n\n    socket.onopen = () => {\n      console.log('WebSocket connected')\n      reconnectAttempts = 0 // Reset attempts on successful connection\n    }\n\n    socket.onclose = (event) => {\n      if (reconnectAttempts < maxReconnectAttempts) {\n        // Exponential backoff with a maximum of 30 seconds\n        const delay = Math.min(baseDelay * Math.pow(1.5, reconnectAttempts), 30000)\n        console.log(`WebSocket closed. Reconnecting in ${delay}ms...`, event.code)\n        \n        setTimeout(() => {\n          reconnectAttempts++\n          connect()\n        }, delay)\n      } else {\n        console.error('Max reconnection attempts reached')\n      }\n    }\n\n    socket.onerror = (error) => {\n      console.error('WebSocket error:', error)\n    }\n  }\n\n  connect()\n  return socket\n}\n\n/**\n * Parses the JSON data from the WebSocket\n * @param data The data received from the WebSocket\n * @returns The parsed state object\n */\nexport function parseStateData(data: string): AppState {\n  return JSON.parse(data) as AppState\n}\n"],"names":[],"mappings":";;;;AAAA;;AAsCO,SAAS;IACd,MAAM,QAAQ,yHAAA,CAAA,UAAO,CAAC,OAAO,CAAC,QAAQ,QAAQ;IAC9C,IAAI,oBAAoB;IACxB,MAAM,uBAAuB;IAC7B,MAAM,YAAY,KAAK,4BAA4B;;IACnD,IAAI,SAAoB,IAAI,UAAU;IAEtC,SAAS;QACP,SAAS,IAAI,UAAU;QAEvB,OAAO,MAAM,GAAG;YACd,QAAQ,GAAG,CAAC;YACZ,oBAAoB,EAAE,0CAA0C;;QAClE;QAEA,OAAO,OAAO,GAAG,CAAC;YAChB,IAAI,oBAAoB,sBAAsB;gBAC5C,mDAAmD;gBACnD,MAAM,QAAQ,KAAK,GAAG,CAAC,YAAY,KAAK,GAAG,CAAC,KAAK,oBAAoB;gBACrE,QAAQ,GAAG,CAAC,CAAC,kCAAkC,EAAE,MAAM,KAAK,CAAC,EAAE,MAAM,IAAI;gBAEzE,WAAW;oBACT;oBACA;gBACF,GAAG;YACL,OAAO;gBACL,QAAQ,KAAK,CAAC;YAChB;QACF;QAEA,OAAO,OAAO,GAAG,CAAC;YAChB,QAAQ,KAAK,CAAC,oBAAoB;QACpC;IACF;IAEA;IACA,OAAO;AACT;AAOO,SAAS,eAAe,IAAY;IACzC,OAAO,KAAK,KAAK,CAAC;AACpB","debugId":null}},
    {"offset": {"line": 1779, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/src/data-fetching/use-fetch-json.ts"],"sourcesContent":["import { useCallback, useState } from 'react'\nimport useSWRSubscription from 'swr/subscription'\nimport type { AppState } from './fetch-json'\nimport { createStateWebSocket, parseStateData } from './fetch-json'\n\ntype StateSubscriptionOptions = {\n  onSuccess?: (data: AppState) => void\n  onError?: (error: Error) => void\n}\n\ntype SubscriptionCallback = (\n  key: string,\n  { next }: { next: (error: Error | null, data?: AppState) => void },\n) => () => void\n\n/**\n * Hook to subscribe to real-time state updates from the server\n * @param options Optional callbacks for success and error handling\n * @returns The current state and loading/error information\n */\nexport function useStateSubscription(options?: StateSubscriptionOptions) {\n  const [isConnecting, setIsConnecting] = useState(false)\n\n  const stateSubscription = useCallback<SubscriptionCallback>(\n    (key, { next }) => {\n      setIsConnecting(true)\n\n      // Create WebSocket connection\n      const socket = createStateWebSocket()\n\n      // Set up event handlers\n      socket.onopen = () => {\n        setIsConnecting(false)\n      }\n\n      socket.onmessage = (event) => {\n        try {\n          const data = parseStateData(event.data)\n          next(null, data)\n          options?.onSuccess?.(data)\n        } catch (error) {\n          next(error as Error)\n          options?.onError?.(error as Error)\n        }\n      }\n\n      socket.onerror = (event) => {\n        console.error('WebSocket error:', event)\n        const error = new Error('WebSocket error')\n        next(error)\n        options?.onError?.(error)\n      }\n\n      // Cleanup function\n      return () => {\n        socket.close()\n      }\n    },\n    [options],\n  )\n\n  const { data, error } = useSWRSubscription('state', stateSubscription, {\n    revalidateOnFocus: false,\n    revalidateOnReconnect: false,\n    refreshInterval: 0\n  })\n\n  return {\n    state: data as AppState | undefined,\n    error,\n    isLoading: !data && !error,\n    isConnecting,\n  }\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AAEA;;;;AAiBO,SAAS,qBAAqB,OAAkC;IACrE,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,MAAM,oBAAoB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAClC,CAAC,KAAK,EAAE,IAAI,EAAE;QACZ,gBAAgB;QAEhB,8BAA8B;QAC9B,MAAM,SAAS,CAAA,GAAA,wIAAA,CAAA,uBAAoB,AAAD;QAElC,wBAAwB;QACxB,OAAO,MAAM,GAAG;YACd,gBAAgB;QAClB;QAEA,OAAO,SAAS,GAAG,CAAC;YAClB,IAAI;gBACF,MAAM,OAAO,CAAA,GAAA,wIAAA,CAAA,iBAAc,AAAD,EAAE,MAAM,IAAI;gBACtC,KAAK,MAAM;gBACX,SAAS,YAAY;YACvB,EAAE,OAAO,OAAO;gBACd,KAAK;gBACL,SAAS,UAAU;YACrB;QACF;QAEA,OAAO,OAAO,GAAG,CAAC;YAChB,QAAQ,KAAK,CAAC,oBAAoB;YAClC,MAAM,QAAQ,IAAI,MAAM;YACxB,KAAK;YACL,SAAS,UAAU;QACrB;QAEA,mBAAmB;QACnB,OAAO;YACL,OAAO,KAAK;QACd;IACF,GACA;QAAC;KAAQ;IAGX,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,qJAAA,CAAA,UAAkB,AAAD,EAAE,SAAS,mBAAmB;QACrE,mBAAmB;QACnB,uBAAuB;QACvB,iBAAiB;IACnB;IAEA,OAAO;QACL,OAAO;QACP;QACA,WAAW,CAAC,QAAQ,CAAC;QACrB;IACF;AACF","debugId":null}},
    {"offset": {"line": 1844, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-icons/WhatsappEncryptedIconOutline.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 24, height: 24, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,8JAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 1868, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/public/whatsapp-ripoff-icons/WhatsappSpoofIcon.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 52, height: 52, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,mJAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 1887, "column": 0}, "map": {"version":3,"sources":["file:///Users/toni/Documents/agihouse/frontend/src/components/whatsapp-view-wrapper.tsx"],"sourcesContent":["'use client'\n\nimport WhatsAppView from '@/components/whatsapp-view'\nimport { useStateSubscription } from '@/data-fetching/use-fetch-json'\nimport Image from 'next/image'\nimport { useEffect, useState } from 'react'\nimport WhatsappEncryptedIcon from '../../public/whatsapp-ripoff-icons/WhatsappEncryptedIconOutline.svg'\nimport WhatsappSpoofIcon from '../../public/whatsapp-ripoff-icons/WhatsappSpoofIcon.svg'\n\nexport const WhatsAppViewWrapper = () => {\n  const [fakeLoading, setFakeLoading] = useState(false)  \n  const { state, error, isLoading, isConnecting } = useStateSubscription({\n    onSuccess: (data) => {      \n    },\n    onError: (error) => {\n      console.error('WebSocket error:', error)\n    },\n  })\n\n  \n  useEffect(() => {\n    setFakeLoading(true)\n    setTimeout(() => {\n      setFakeLoading(false)\n    }, 2000)\n  }, [])\n\n  if (isLoading || fakeLoading || isConnecting || (!state && !error)) {\n    return (\n      <div className=\"bg-loading-whatsapp-background flex h-screen w-screen flex-col items-center justify-center gap-4\">\n        <Image\n          src={WhatsappSpoofIcon}\n          width={50}\n          height={50}\n          alt=\"Whatsapp Spoof\"\n        />\n        <div className=\"text-lg font-medium\">WhatsApp</div>\n        <div className=\"bg-muted-foreground/25 h-1 w-40 overflow-hidden rounded-full\">\n          <div className=\"loading-bar-animation h-1 bg-[var(--color-whatsapp-main-background-stripe)]\" />\n        </div>\n        <div className=\"text-muted-foreground flex items-center gap-2 font-medium\">\n          <Image\n            src={WhatsappEncryptedIcon}\n            width={16}\n            height={16}\n            alt=\"Whatsapp Encrypted\"\n          />\n          End to end encrypted\n        </div>\n      </div>\n    )\n  }\n\n  if (!state) {\n    return (\n      <div className=\"flex h-full w-full items-center justify-center\">\n        Error: {error?.message}\n      </div>\n    )\n  }\n\n  return <WhatsAppView state={state} />\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASO,MAAM,sBAAsB;IACjC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,+IAAA,CAAA,uBAAoB,AAAD,EAAE;QACrE,WAAW,CAAC,QACZ;QACA,SAAS,CAAC;YACR,QAAQ,KAAK,CAAC,oBAAoB;QACpC;IACF;IAGA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe;QACf,WAAW;YACT,eAAe;QACjB,GAAG;IACL,GAAG,EAAE;IAEL,IAAI,aAAa,eAAe,gBAAiB,CAAC,SAAS,CAAC,OAAQ;QAClE,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC,6HAAA,CAAA,UAAK;oBACJ,KAAK,oVAAA,CAAA,UAAiB;oBACtB,OAAO;oBACP,QAAQ;oBACR,KAAI;;;;;;8BAEN,8OAAC;oBAAI,WAAU;8BAAsB;;;;;;8BACrC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;;;;;;;;;;8BAEjB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,6HAAA,CAAA,UAAK;4BACJ,KAAK,0WAAA,CAAA,UAAqB;4BAC1B,OAAO;4BACP,QAAQ;4BACR,KAAI;;;;;;wBACJ;;;;;;;;;;;;;IAKV;IAEA,IAAI,CAAC,OAAO;QACV,qBACE,8OAAC;YAAI,WAAU;;gBAAiD;gBACtD,OAAO;;;;;;;IAGrB;IAEA,qBAAO,8OAAC,sIAAA,CAAA,UAAY;QAAC,OAAO;;;;;;AAC9B","debugId":null}}]
}